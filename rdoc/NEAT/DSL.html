<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module NEAT::DSL - rubyneat 0.3.4</title>

<link href="../fonts.css" rel="stylesheet">
<link href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/navigation.js"></script>
<script src="../js/search_index.js"></script>
<script src="../js/search.js"></script>
<script src="../js/searcher.js"></script>
<script src="../js/darkfish.js"></script>


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="../NEAT.html">NEAT</a>
  
  
  
    <li><a class="include" href="BasicNeuronTypes.html">NEAT::BasicNeuronTypes</a>
  
  
  
    <li><span class="include">Math</span>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-compare">#compare</a>
    
    <li ><a href="#method-i-condition_boolean_vector">#condition_boolean_vector</a>
    
    <li ><a href="#method-i-cost">#cost</a>
    
    <li ><a href="#method-i-define">#define</a>
    
    <li ><a href="#method-i-evolve">#evolve</a>
    
    <li ><a href="#method-i-fitness">#fitness</a>
    
    <li class="calls-super" ><a href="#method-i-method_missing">#method_missing</a>
    
    <li ><a href="#method-i-query">#query</a>
    
    <li ><a href="#method-i-recurrence">#recurrence</a>
    
    <li ><a href="#method-i-report">#report</a>
    
    <li ><a href="#method-i-run_engine">#run_engine</a>
    
    <li ><a href="#method-i-simple_fitness_error">#simple_fitness_error</a>
    
    <li ><a href="#method-i-stop_on_fitness">#stop_on_fitness</a>
    
    <li ><a href="#method-i-uncondition_boolean_vector">#uncondition_boolean_vector</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-NEAT::DSL">
  <h1 id="module-NEAT::DSL" class="module">
    module NEAT::DSL
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-compare" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">compare</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Fitness ordering – given 2 fitness numbers, use the &lt;=&gt; to compare
them (or the equivalent, following the +1, 0, -1 that is in the sense of
&lt;=&gt;)</p>
          
          

          
          <div class="method-source-code" id="compare-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">compare</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">compare_func</span> = <span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-condition_boolean_vector" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">condition_boolean_vector</span><span
            class="method-args">(vec, sig = :tanh)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Helper function to Condition boolean vectors to be +1 if true, -1 if false
(0 if sigmoid)</p>
          
          

          
          <div class="method-source-code" id="condition_boolean_vector-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">condition_boolean_vector</span>(<span class="ruby-identifier">vec</span>, <span class="ruby-identifier">sig</span> = <span class="ruby-value">:tanh</span>)
  <span class="ruby-identifier">vec</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">?</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> ((<span class="ruby-identifier">sig</span> <span class="ruby-operator">==</span> <span class="ruby-value">:sigmoid</span>) <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-value">-1</span>)}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cost" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cost</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Calculation to add the cost to the fitness, resulting in a fitness that
incorporates the cost for sorting purposes.</p>
          
          

          
          <div class="method-source-code" id="cost-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 69</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cost</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">cost_func</span> = <span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-define" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">define</span><span
            class="method-args">(name = NEAT.random_name_generator, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="DSL.html">DSL</a> – Define defines the parameters to the
controller.</p>
          
          

          
          <div class="method-source-code" id="define-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 15</span>
 <span class="ruby-keyword">def</span> <span class="ruby-identifier">define</span>(<span class="ruby-identifier">name</span> = <span class="ruby-constant">NEAT</span>.<span class="ruby-identifier">random_name_generator</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
   [
    <span class="ruby-value">:inputs</span>,
    <span class="ruby-value">:outputs</span>,
    <span class="ruby-value">:hidden</span>  <span class="ruby-comment"># we really don&#39;t care about mapping hidden neurons, but we&#39;ll ignore them later.</span>
   ].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">iometh</span><span class="ruby-operator">|</span>
     <span class="ruby-identifier">instance_eval</span> <span class="ruby-node">%Q[
def #{iometh}(nodes = nil, &amp;block)
  neui = unless nodes.nil?
           nodes
         else
           block.()
         end
  NEAT::controller.neural_#{iometh} = if neui.kind_of? Hash
                                        neui
                                      else
                                        Hash[neui.map{|n| [NEAT::random_name_generator, n]}]
                                      end
end]</span>
   <span class="ruby-keyword">end</span>
   <span class="ruby-identifier">block</span>.(<span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>)
 <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-evolve" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">evolve</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="DSL.html">DSL</a> – Run evolution</p>
          
          

          
          <div class="method-source-code" id="evolve-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">evolve</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-comment"># Query function is called with the sequence (time evolution) number,</span>
  <span class="ruby-comment"># and returns an array or hash of parameters that will be given</span>
  <span class="ruby-comment"># to the input nodes. In the case of hash, the keys in the hash</span>
  <span class="ruby-comment"># shall correspond to the names given to the input neurons.</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">query</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">query_func</span> = <span class="ruby-identifier">block</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">recurrence</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">recurrence_func</span> = <span class="ruby-identifier">block</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># fitness function calls the block with 2 vectors or two hashes, input and output</span>
  <span class="ruby-comment"># vectors of the critter being evaluated for fitness, as well as a sequence</span>
  <span class="ruby-comment"># number that can be used to index what the actual output should be.</span>
  <span class="ruby-comment"># |vin, vout, seq|</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">fitness</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">fitness_func</span> = <span class="ruby-identifier">block</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Fitness ordering -- given 2 fitness numbers,</span>
  <span class="ruby-comment"># use the &lt;=&gt; to compare them (or the equivalent, following</span>
  <span class="ruby-comment"># the +1, 0, -1 that is in the sense of &lt;=&gt;)</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">compare</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">compare_func</span> = <span class="ruby-identifier">block</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Calculation to add the cost to the fitness, resulting in a fitness</span>
  <span class="ruby-comment"># that incorporates the cost for sorting purposes.</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">cost</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">cost_func</span> = <span class="ruby-identifier">block</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Stop the progression once the fitness criteria is reached</span>
  <span class="ruby-comment"># for the most fit critter</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">stop_on_fitness</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">stop_on_fit_func</span> = <span class="ruby-identifier">block</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Helper function to</span>
  <span class="ruby-comment"># Condition boolean vectors to be +1 if true, -1 if false (0 if sigmoid)</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">condition_boolean_vector</span>(<span class="ruby-identifier">vec</span>, <span class="ruby-identifier">sig</span> = <span class="ruby-value">:tanh</span>)
    <span class="ruby-identifier">vec</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">?</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> ((<span class="ruby-identifier">sig</span> <span class="ruby-operator">==</span> <span class="ruby-value">:sigmoid</span>) <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-value">-1</span>)}
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Helper function to</span>
  <span class="ruby-comment"># Uncondition boolean vectors to be +1 if true, -1 if false</span>
  <span class="ruby-comment"># FIXME we need a better discrimination function</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">uncondition_boolean_vector</span>(<span class="ruby-identifier">vec</span>, <span class="ruby-identifier">sig</span> = <span class="ruby-value">:tanh</span>)
    <span class="ruby-identifier">vec</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">&gt;</span> ((<span class="ruby-identifier">sig</span> <span class="ruby-operator">==</span> <span class="ruby-value">:sigmoid</span>) <span class="ruby-operator">?</span> <span class="ruby-value">0.5</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>) <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>}
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Helper function to do a simple fitness calculation</span>
  <span class="ruby-comment"># on the basis of the sum of the square of the diffences</span>
  <span class="ruby-comment"># of the element in the two vectors.</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">simple_fitness_error</span>(<span class="ruby-identifier">v1</span>, <span class="ruby-identifier">v2</span>)
    <span class="ruby-identifier">sqrt</span> <span class="ruby-identifier">v1</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">v2</span>).<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">a</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">b</span>) <span class="ruby-operator">**</span> <span class="ruby-value">2.0</span>}.<span class="ruby-identifier">reduce</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">m</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">c</span>}
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">block</span>.(<span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-fitness" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">fitness</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>fitness function calls the block with 2 vectors or two hashes, input and
output vectors of the critter being evaluated for fitness, as well as a
sequence number that can be used to index what the actual output should be.
|vin, vout, seq|</p>
          
          

          
          <div class="method-source-code" id="fitness-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fitness</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">fitness_func</span> = <span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-method_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">method_missing</span><span
            class="method-args">(m, *args, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This is used to handle the details of our <a href="DSL.html">DSL</a>.</p>
          
          
            <div class="method-calls-super">
              Calls superclass method
              
            </div>
          

          
          <div class="method-source-code" id="method_missing-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">m</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-comment"># we want to catch parameters settings here.</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">parms</span>.<span class="ruby-identifier">respond_to?</span> (<span class="ruby-identifier">assignment</span> = (<span class="ruby-identifier">m</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;=&#39;</span>).<span class="ruby-identifier">to_sym</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NeatException</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;Missing value(s) to %s&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">m</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">val</span> = (<span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">args</span>
    <span class="ruby-identifier">$log</span>.<span class="ruby-identifier">debug</span> { <span class="ruby-string">&quot;Caught method %s with parameter of %s&quot;</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">assignment</span>, <span class="ruby-identifier">val</span>] }
    <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">parms</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">assignment</span>, <span class="ruby-identifier">val</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-query" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">query</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Query function is called with the sequence (time evolution) number, and
returns an array or hash of parameters that will be given to the input
nodes. In the case of hash, the keys in the hash shall correspond to the
names given to the input neurons.</p>
          
          

          
          <div class="method-source-code" id="query-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">query</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">query_func</span> = <span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-recurrence" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">recurrence</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="recurrence-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">recurrence</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">recurrence_func</span> = <span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-report" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">report</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Report on evaluations</p>
          
          

          
          <div class="method-source-code" id="report-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">report</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">report_hook</span> = <span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-run_engine" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">run_engine</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Run the engine. The block is called on each generation.</p>
          
          

          
          <div class="method-source-code" id="run_engine-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">run_engine</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">end_run_func</span> = <span class="ruby-identifier">block</span>
  <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">run</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-simple_fitness_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">simple_fitness_error</span><span
            class="method-args">(v1, v2)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Helper function to do a simple fitness calculation on the basis of the sum
of the square of the diffences of the element in the two vectors.</p>
          
          

          
          <div class="method-source-code" id="simple_fitness_error-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">simple_fitness_error</span>(<span class="ruby-identifier">v1</span>, <span class="ruby-identifier">v2</span>)
  <span class="ruby-identifier">sqrt</span> <span class="ruby-identifier">v1</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">v2</span>).<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">a</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">b</span>) <span class="ruby-operator">**</span> <span class="ruby-value">2.0</span>}.<span class="ruby-identifier">reduce</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">m</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">c</span>}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-stop_on_fitness" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stop_on_fitness</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Stop the progression once the fitness criteria is reached for the most fit
critter</p>
          
          

          
          <div class="method-source-code" id="stop_on_fitness-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 75</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stop_on_fitness</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">NEAT</span><span class="ruby-operator">::</span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">stop_on_fit_func</span> = <span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-uncondition_boolean_vector" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">uncondition_boolean_vector</span><span
            class="method-args">(vec, sig = :tanh)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Helper function to Uncondition boolean vectors to be +1 if true, -1 if
false FIXME we need a better discrimination function</p>
          
          

          
          <div class="method-source-code" id="uncondition_boolean_vector-source">
            <pre><span class="ruby-comment"># File lib/rubyneat/dsl.rb, line 88</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">uncondition_boolean_vector</span>(<span class="ruby-identifier">vec</span>, <span class="ruby-identifier">sig</span> = <span class="ruby-value">:tanh</span>)
  <span class="ruby-identifier">vec</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">&gt;</span> ((<span class="ruby-identifier">sig</span> <span class="ruby-operator">==</span> <span class="ruby-value">:sigmoid</span>) <span class="ruby-operator">?</span> <span class="ruby-value">0.5</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>) <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

